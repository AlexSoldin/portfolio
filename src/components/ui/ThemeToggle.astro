---

---

<button
  id="theme-toggle"
  class="group relative flex h-10 w-10 items-center justify-center rounded-sm bg-transparent transition-all hover:bg-[var(--foreground)] hover:text-[var(--background)] overflow-hidden"
  aria-label="Toggle theme"
>
  <div
    class="relative h-5 w-5 transition-transform duration-300 group-hover:scale-110 group-hover:rotate-12"
  >
    <!-- Sun Icon -->
    <svg
      id="sun-icon"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      class="absolute inset-0 transition-all duration-300"
    >
      <circle cx="12" cy="12" r="4"></circle>
      <path d="M12 2v2"></path>
      <path d="M12 20v2"></path>
      <path d="M4.93 4.93l1.41 1.41"></path>
      <path d="M17.66 17.66l1.41 1.41"></path>
      <path d="M2 12h2"></path>
      <path d="M20 12h2"></path>
      <path d="M4.93 19.07l1.41-1.41"></path>
      <path d="M17.66 6.34l1.41-1.41"></path>
    </svg>
    <!-- Moon Icon -->
    <svg
      id="moon-icon"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      class="absolute inset-0 transition-all duration-300"
    >
      <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path>
    </svg>
  </div>
</button>

<style>
  /* Moon icon visible by default (light theme) */
  #sun-icon {
    transform: scale(0) rotate(90deg);
    opacity: 0;
  }
  #moon-icon {
    transform: scale(1) rotate(0deg);
    opacity: 1;
  }

  /* Dark theme states: Show Sun */
  :global([data-theme="dark"]) #sun-icon {
    transform: scale(1) rotate(0deg);
    opacity: 1;
  }
  :global([data-theme="dark"]) #moon-icon {
    transform: scale(0) rotate(-90deg);
    opacity: 0;
  }

  /* Light theme states: Show Moon */
  :global([data-theme="light"]) #sun-icon {
    transform: scale(0) rotate(90deg);
    opacity: 0;
  }
  :global([data-theme="light"]) #moon-icon {
    transform: scale(1) rotate(0deg);
    opacity: 1;
  }
</style>

<script>
  function getTheme() {
    return (
      localStorage.getItem("theme") ||
      (window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light")
    );
  }

  function setTheme(theme: string) {
    document.documentElement.setAttribute("data-theme", theme);
    localStorage.setItem("theme", theme);
  }

  // Initialize theme
  const initialTheme = getTheme();
  setTheme(initialTheme);

  // Setup toggle listener
  const themeToggle = document.getElementById("theme-toggle");
  themeToggle?.addEventListener("click", () => {
    const currentTheme = getTheme();
    const nextTheme = currentTheme === "light" ? "dark" : "light";
    setTheme(nextTheme);
  });
</script>
