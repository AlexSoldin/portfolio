---

---

<header class="w-full p-8 md:p-12 flex justify-between items-start z-40">
  <div class="flex flex-col gap-6">
    <button
      id="theme-toggle-switch"
      class="w-10 h-5 bg-(--foreground)/10 rounded-full p-1 relative transition-all duration-300 cursor-pointer group"
      aria-label="Toggle theme"
    >
      <div
        id="toggle-thumb"
        class="w-3 h-3 bg-(--foreground) rounded-full transition-transform duration-300 ease-in-out"
      >
      </div>
    </button>

    <div class="flex flex-col">
      <a href="/" class="font-mono text-sm font-bold uppercase tracking-tighter">Alex Soldin</a>
      <p class="text-[10px] opacity-40 uppercase tracking-[0.2em] leading-relaxed mt-3 font-mono">
        Software engineer<br />Amsterdam, NL
      </p>
    </div>
  </div>

  <nav class="flex items-center gap-6">
    <slot name="nav" />
  </nav>
</header>

<script>
  function getTheme() {
    return (
      localStorage.getItem("theme") ||
      (window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light")
    );
  }

  function setTheme(theme: string) {
    document.documentElement.setAttribute("data-theme", theme);
    localStorage.setItem("theme", theme);
  }

  const toggleSwitch = document.getElementById("theme-toggle-switch");
  toggleSwitch?.addEventListener("click", () => {
    const currentTheme = getTheme();
    const nextTheme = currentTheme === "light" ? "dark" : "light";
    setTheme(nextTheme);
  });

  document.addEventListener("astro:after-swap", () => {
    setTheme(getTheme());
  });

  // Initial set
  setTheme(getTheme());
</script>
